<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/Users/vieir4ndo/Workspace/construtora-viver-sa/src/ConstrutoraViverSA.Domain/Funcionario.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using ConstrutoraViverSA.Domain.Enums;
using System;
using System.Collections.Generic;
using System.Diagnostics.CodeAnalysis;
using System.Text;
using ConstrutoraViverSA.Domain.Exceptions;
using ConstrutoraViverSA.Domain.Extensions;

namespace ConstrutoraViverSA.Domain;

public sealed class Funcionario
{
    public long Id;
    public string Nome { get; private set; }
    public DateTime? DataNascimento { get; private set; }
    public GeneroEnum? Genero { get; private set; }
    public string Cpf { get; private set; }
    public string NumCtps { get; private set; }
    public string Endereco { get; private set; }
    public string Email { get; private set; }
    public string Telefone { get; private set; }
    public CargoEnum? Cargo { get; private set; }
    
    public ICollection&lt;Obra&gt; Obras;

    [ExcludeFromCodeCoverage]
    public Funcionario()
    {
    }

    public Funcionario(string nome, DateTime? dataNascimento, GeneroEnum? genero, string cpf, string numCtps,
        string endereco, string email, string telefone, CargoEnum? cargo)
    {
        var erros = new StringBuilder();

        if (string.IsNullOrWhiteSpace(nome))
            erros.Append(&quot;Nome inv&#225;lido.&quot;);

        if (dataNascimento is null || dataNascimento == DateTime.MinValue)
            erros.Append(&quot;Data de Nascimento inv&#225;lida.&quot;);

        if (genero is null)
            erros.Append(&quot;G&#234;nero inv&#225;lido.&quot;);
        
        if (string.IsNullOrWhiteSpace(cpf) || cpf.Length != 11 || !CpfExtension.EhValido(cpf))
            erros.Append(&quot;CPF inv&#225;lido.&quot;);

        if (string.IsNullOrWhiteSpace(numCtps))
            erros.Append(&quot;N&#250;mero CTPS inv&#225;lido.&quot;);

        if (string.IsNullOrWhiteSpace(endereco))
            erros.Append(&quot;Endere&#231;o inv&#225;lido.&quot;);

        if (string.IsNullOrWhiteSpace(email))
            erros.Append(&quot;E-mail inv&#225;lido.&quot;);

        if (string.IsNullOrWhiteSpace(telefone))
            erros.Append(&quot;Telefone inv&#225;lido.&quot;);

        if (cargo is null)
            erros.Append(&quot;Cargo inv&#225;lido.&quot;);

        if (erros.Length &gt; 0)
            throw new FuncionarioInvalidoException(erros.ToString());

        Nome = nome;
        DataNascimento = dataNascimento!.Value;
        Genero = genero;
        Cpf = cpf;
        NumCtps = numCtps;
        Endereco = endereco;
        Email = email;
        Telefone = telefone;
        Cargo = cargo;
    }

    public void SetNome(string nome)
    {
        if (string.IsNullOrWhiteSpace(nome))
            return;

        Nome = nome;
    }

    public void SetDataNascimento(DateTime? dataNascimento)
    {
        if (dataNascimento is null || dataNascimento == DateTime.MinValue)
            return;

        DataNascimento = dataNascimento.Value;
    }

    public void SetGenero(GeneroEnum? genero)
    {
        if (genero is null)
            return;

        Genero = genero.Value;
    }

    public void SetCpf(string cpf)
    {
        if (string.IsNullOrWhiteSpace(cpf) || cpf.Length != 11 || !CpfExtension.EhValido(cpf))
            return;

        Cpf = cpf;
    }

    public void SetNumCtps(string numCtps)
    {
        if (string.IsNullOrWhiteSpace(numCtps))
            return;

        NumCtps = numCtps;
    }

    public void SetEndereco(string endereco)
    {
        if (string.IsNullOrWhiteSpace(endereco))
            return;

        Endereco = endereco;
    }

    public void SetEmail(string email)
    {
        if (string.IsNullOrWhiteSpace(email))
            return;

        Email = email;
    }

    public void SetTelefone(string telefone)
    {
        if (string.IsNullOrWhiteSpace(telefone))
            return;

        Telefone = telefone;
    }

    public void SetCargo(CargoEnum? cargo)
    {
        if (cargo is null)
            return;

        Cargo = cargo;
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[14,26,14,30,1],[14,31,14,43,1],[15,39,15,43,1],[15,44,15,56,1],[16,33,16,37,1],[16,38,16,50,1],[17,25,17,29,1],[17,30,17,42,1],[18,29,18,33,1],[18,34,18,46,1],[19,30,19,34,1],[19,35,19,47,1],[20,27,20,31,1],[20,32,20,44,1],[21,30,21,34,1],[21,35,21,47,1],[22,31,22,35,1],[22,36,22,48,1],[27,5,27,25,1],[28,5,28,6,1],[29,5,29,6,1],[31,5,32,74,1],[33,5,33,6,1],[34,9,34,41,1],[36,9,36,45,1],[37,13,37,44,1],[39,9,39,75,1],[40,13,40,58,1],[42,9,42,28,1],[43,13,43,46,1],[45,9,45,95,1],[46,13,46,43,1],[48,9,48,48,1],[49,13,49,51,1],[51,9,51,49,1],[52,13,52,48,1],[54,9,54,46,1],[55,13,55,46,1],[57,9,57,49,1],[58,13,58,48,1],[60,9,60,27,1],[61,13,61,45,1],[63,9,63,30,1],[64,13,64,70,1],[66,9,66,21,1],[67,9,67,48,1],[68,9,68,25,1],[69,9,69,19,1],[70,9,70,27,1],[71,9,71,29,1],[72,9,72,23,1],[73,9,73,29,1],[74,9,74,23,1],[75,5,75,6,1],[78,5,78,6,1],[79,9,79,45,1],[80,13,80,20,1],[82,9,82,21,1],[83,5,83,6,1],[86,5,86,6,1],[87,9,87,75,1],[88,13,88,20,1],[90,9,90,47,1],[91,5,91,6,1],[94,5,94,6,1],[95,9,95,28,1],[96,13,96,20,1],[98,9,98,31,1],[99,5,99,6,1],[102,5,102,6,1],[103,9,103,95,1],[104,13,104,20,1],[106,9,106,19,1],[107,5,107,6,1],[110,5,110,6,1],[111,9,111,48,1],[112,13,112,20,1],[114,9,114,27,1],[115,5,115,6,1],[118,5,118,6,1],[119,9,119,49,1],[120,13,120,20,1],[122,9,122,29,1],[123,5,123,6,1],[126,5,126,6,1],[127,9,127,46,1],[128,13,128,20,1],[130,9,130,23,1],[131,5,131,6,1],[134,5,134,6,1],[135,9,135,49,1],[136,13,136,20,1],[138,9,138,29,1],[139,5,139,6,1],[142,5,142,6,1],[143,9,143,27,1],[144,13,144,20,1],[146,9,146,23,1],[147,5,147,6,1]]);
    </script>
  </body>
</html>